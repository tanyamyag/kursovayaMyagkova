import{j as e,c as a,y as l,r as s,z as t,b as i,d as n,e as r,f as c,w as o,u,R as v,t as p,F as d,h as m,g as y,k as b,l as g,p as f,i as _,A as x}from"./index-CBikw6JF.js";import{e as w}from"./employees-CQvjrkYg.js";const h={key:0,class:"page"},k={class:"container"},D={class:"breadcrumb"},j={class:"employee-layout"},z={class:"employee-photo-big"},A=["src","alt"],C={class:"employee-main-card"},U={class:"employee-main-header"},F={style:{"margin-top":"16px",display:"flex","align-items":"center",gap:"12px"}},R={class:"rating-stars"},S={style:{"margin-left":"6px","font-size":"14px"}},V={class:"employee-main-meta"},q={class:"employee-meta-pill"},E={class:"employee-meta-value"},L={class:"employee-meta-pill"},M={class:"employee-meta-value"},N={class:"employee-cert"},B={class:"employee-cert-box"},G={class:"employee-cert-box"},H={class:"section",style:{"padding-top":"0"}},I={class:"section__header"},J={class:"review-form__field"},K={class:"review-form__field"},O={class:"review-form__stars"},P=["onClick"],Q={class:"review-form__rating-value"},T={class:"reviews-grid"},W={class:"review-header"},X={class:"review-service"},Y={class:"review-date"},Z={class:"review-client"},$={class:"rating-stars",style:{"margin-bottom":"6px"}},ee={class:"section",style:{"padding-top":"0"}},ae={class:"card",style:{display:"flex","flex-wrap":"wrap",gap:"24px","align-items":"center",padding:"24px"}},le={key:1,class:"page"},se={class:"container"},te={class:"breadcrumb"},ie={__name:"EmployeeDetailView",setup(ie){e({title:"Сотрудник — Чистота — клининговая компания",meta:[{name:"description",content:"Профиль сотрудника клининговой компании «Чистота»: опыт, специализация и отзывы клиентов."},{name:"keywords",content:"сотрудник, клининг, уборка, чистота, персонал, клининговая компания"}]});const ne=l(),re=a(()=>Number(ne.params.id)),ce=a(()=>w.find(e=>e.id===re.value)),oe=s([]);t(ce,e=>{e&&Array.isArray(e.reviews)&&(oe.value=[...e.reviews])},{immediate:!0});const ue=s(!1),ve=s(""),pe=s(5),de=()=>{if(!ce.value||!ve.value.trim())return;const e={id:Date.now(),client:"Гость",service:"Пользовательский отзыв",date:(new Date).toLocaleDateString("ru-RU",{day:"numeric",month:"long",year:"numeric"}),rating:pe.value,text:ve.value.trim()};oe.value=[e,...oe.value],ve.value="",pe.value=5,ue.value=!1};return(e,a)=>ce.value?(_(),i("div",h,[n("div",k,[n("p",D,[a[3]||(a[3]=r(" Главная · ",-1)),c(u(v),{to:"/employees"},{default:o(()=>[...a[2]||(a[2]=[r("Сотрудники",-1)])]),_:1}),r(" · "+p(ce.value.name),1)]),n("div",j,[n("div",z,[n("img",{src:ce.value.photo,alt:ce.value.name},null,8,A)]),n("div",null,[n("div",C,[n("div",U,[n("h1",null,p(ce.value.name),1),n("p",null,p(ce.value.description),1),n("div",F,[a[4]||(a[4]=n("button",{class:"btn btn--primary"},"Записаться онлайн",-1)),n("div",null,[n("span",R,[(_(),i(d,null,m(5,e=>n("span",{key:e},p(e<=Math.round(ce.value.rating)?"★":"☆"),1)),64))]),n("span",S,p(ce.value.rating.toFixed(2)),1)])])]),n("div",V,[n("div",q,[a[5]||(a[5]=n("div",{class:"employee-meta-label"},"Должность",-1)),n("div",E,p(ce.value.role),1)]),n("div",L,[a[6]||(a[6]=n("div",{class:"employee-meta-label"},"Стаж",-1)),n("div",M,p(ce.value.experience),1)])])]),n("div",N,[n("div",B,[a[7]||(a[7]=n("strong",null,"Сертификат",-1)),n("ul",null,[n("li",null,"дата выдачи: "+p(ce.value.certificate.issued),1),n("li",null,"действует до: "+p(ce.value.certificate.validUntil),1)])]),n("div",G,[n("strong",null,p(ce.value.course),1),a[8]||(a[8]=n("p",{style:{"margin-top":"8px"}}," Сотрудник прошёл обучение в профильных учебных центрах и регулярно повышает квалификацию. В работе применяет современные методы очистки и бережно относится к имуществу клиентов. ",-1))])])])]),n("section",H,[n("div",I,[a[9]||(a[9]=n("h2",{class:"section__title"},"Отзывы клиентов",-1)),n("button",{type:"button",class:"btn btn--primary",onClick:a[0]||(a[0]=e=>ue.value=!ue.value)},p(ue.value?"Отменить":"Добавить отзыв"),1)]),ue.value?(_(),i("form",{key:0,class:"review-form",onSubmit:b(de,["prevent"])},[n("div",J,[a[10]||(a[10]=n("span",null,"Ваш отзыв",-1)),g(n("textarea",{"onUpdate:modelValue":a[1]||(a[1]=e=>ve.value=e),required:"",maxlength:"500",placeholder:"Напишите пару слов о работе сотрудника"},null,512),[[f,ve.value]])]),n("div",K,[a[11]||(a[11]=n("span",null,"Оценка",-1)),n("div",O,[(_(),i(d,null,m(5,e=>n("button",{key:e,type:"button",class:x(["star-button",{"star-button--active":e<=pe.value}]),onClick:a=>pe.value=e}," ★ ",10,P)),64)),n("span",Q,p(pe.value)+" / 5 ",1)])]),a[12]||(a[12]=n("button",{type:"submit",class:"btn btn--primary"}," Сохранить отзыв ",-1))],32)):y("",!0),n("div",T,[(_(!0),i(d,null,m(oe.value,e=>(_(),i("article",{key:e.id,class:"review-card"},[n("div",W,[n("span",X,p(e.service),1),n("span",Y,p(e.date),1)]),n("div",Z,p(e.client),1),n("div",$,[(_(),i(d,null,m(5,a=>n("span",{key:a},p(a<=e.rating?"★":"☆"),1)),64))]),n("p",null,p(e.text),1)]))),128))])]),n("section",ee,[n("div",ae,[a[14]||(a[14]=n("div",null,[n("h2",{class:"section__title",style:{"font-size":"22px"}}," Записаться на клининг "),n("p",{class:"section__subtitle"}," Заполните форму на странице регистрации, и мы свяжемся с вами в ближайшее время. ")],-1)),c(u(v),{to:"/register",class:"btn btn--primary"},{default:o(()=>[...a[13]||(a[13]=[r(" Оформить заявку ",-1)])]),_:1})])])])])):(_(),i("div",le,[n("div",se,[n("p",te,[a[16]||(a[16]=r(" Главная · ",-1)),c(u(v),{to:"/employees"},{default:o(()=>[...a[15]||(a[15]=[r("Сотрудники",-1)])]),_:1})]),a[18]||(a[18]=n("h1",{class:"page__title"},"Сотрудник не найден",-1)),a[19]||(a[19]=n("p",{class:"hero__subtitle"}," Возможно, профиль был перемещён или удалён. Вернитесь к списку сотрудников и выберите другого специалиста. ",-1)),c(u(v),{to:"/employees",class:"btn btn--primary"},{default:o(()=>[...a[17]||(a[17]=[r(" К списку сотрудников ",-1)])]),_:1})])]))}};export{ie as default};
